DESCRIPTION DU CONTENU DES FICHIERS UTILISES OU CREES PAR LE CODE DES OS
========================================================================

1. Les fichiers d'angles 
---------------------------------

    Fichier utilisateur FICANGLES_USER: 
    ----------------------------------
      Fichiers Ascii contenant une liste d'angles (en degres) a ajouter aux angles de Gauss
      pour lesquels le poids attribues sera nuls (=> sans impact sur les 
      integrations spatiales)

      Format : Une valeur d'angle par ligne d'enregistrement.
               les angles doivent etre compris entre 0 et 90 degres.
               Nombre d'enregistrements maximal : SOS_NBMAX_USER_ANGLES


    Fichier d'angles pour les calculs Aerosols FICRES_MIE: 
    -----------------------------------------------------
      Fichier Ascii contenant les informations suivantes
              NB_TOTAL_ANGLES :  nb d'angles total a utiliser
              NB_GAUSS_ANGLES :  nb d'angles de Gauss
              ANGLES_USERFILE :  Nom du fichier des angles utilisateur
              INTERNAL_OS_NB :   Ordre des developpements des fonctions de phase 
 				 en Polynomes de Legendre a utiliser.
              INDEX COS_ANGLE WEIGHT : lignes donnant le numero d'angle, son cosinus et son poids
                                       au format I4,X,2D21.14

    Fichier d'angles pour les calculs de luminance FICRES_LUM: 
    ---------------------------------------------------------
    
      Fichier Ascii contenant les informations suivantes
	      NB_TOTAL_ANGLES :    nb d'angles total a utiliser
              NB_GAUSS_ANGLES :    nb d'angles de Gauss
              ANGLES_USERFILE :    Nom du fichier des angles utilisateur
	      SOLAR ZENITH ANGLE : Angle zenithal solaire (degres)
	      INTERNAL_IMUS :      Numero d'indice de table correspondant
              INTERNAL_OS_NB :     Ordre des developpements des fonctions de phase 
				   en Polynomes de Legendre a utiliser.
              INTERNAL_OS_NS :     Ordre maximal a utiliser pour le developpement en
                                   polynomes de Legendre des elements de la matrice de Fresnel 
                                   et en series de Fourier des calculs de luminance.
              INTERNAL_OS_NM :     Ordre maximal du developpement en series de Fourier  
                                   de la fonction G des calculs de matrice de reflexion.
              INDEX COS_ANGLE WEIGHT OUTPUT: lignes donnant le numero d'angle, son cosinus 
                                             et son poids, s'il est donne en sortie "utilisateur"
                                             au format I4,X,2D21.14,X,I4
            
      
2.Le fichier de MIE
-------------------
       Fichier binaire non formatte, cree par SOS_MIE, utilise/lu par SOS_GRANU
       1 enregistrement d'entete avec
                Indice de refraction (partie reelle)
                Indice de refraction (partie imaginaire)
                Parametre de taille limite
                Nombre d'angles de Gauss positifs

       1 enregistrement pour chaque valeur du parametre de taille avec:
        - Parametre de taille (reel),
        - Coefficient d'efficacite en extinction (reel),
        - Coefficient d'efficacite en diffusion (reel),
        - Facteur d'anisotropie (double precision),
        - Tableau de la fonction de phase Imie(mu) (reel),
        - Tableau de la fonction de phase polarisee Qmie(mu) (reel),
        - Tableau de la fonction de phase polarisee Umie(mu) (reel).

           
3.Le fichier de fonctions de phase externes
-------------------------------------------
       Fichier ascii formatte, cree par l'utilisateur.
       Le format de ce fichier respecte celui de l'outil DLS d'Oleg Dubovik (LOA)
       fournissant les propriétés de diffusion primaire de particules
       spheroides homogenes orientees de facon aleatoire.
       Un parametre precisant le nombre d'angles decrivant les fonctions
       a toutefois du etre ajoute.
 
          1ere ligne : ext=  0.72684E+00  abs=  0.49962E-01  sca=  0.67688E+00  
              Valeurs : Les parametres exploites par les OS sont uniquement les coefficients 
                        d'extinction (ext=) et de diffusion (sca=)
              Format  : FORMAT(4hext=,E15.5,4habs=,E15.5,4hsca=,E15.5)
                
          2eme ligne : nbAng= 181
              Valeur : Nombre d'angles decrivant les fonctions de phase.
              Format : FORMAT(6hnbAng=,I4)
              
          3eme ligne : Ligne de commentaire 
          
          Lignes 4 a 4+nbAng-1
               Valeurs : ANGLE  F11  -F12/F11  F22/F1   F33/F11
                           ANGLE 	: angle en degres.
                           F11 		: fonction de phase en intensite
 			   -F12/F11 	: rapport des fonctions -F12 et F11
 			   F22/F11 	: rapport des fonctions F22 et F11
 			   F33/F11 	: rapport des fonctions F33 et F11 
               ----------------------   ===========================================
               NB CONVENTION DE SIGNE : F12 est negative pour la diffusion Rayleigh.
                                        = convention des OS
               ----------------------   ===========================================
 		 Format  : FORMAT(F7.2,6E14.5)
 
          Pas de lecture des lignes suivantes.	


4.Le fichier de BRDF / BPDF
--------------------------
       Fichier binaire non formatte, cree par SOS_SURFACE, utilise/lu par SOS_OS
       Il contient la matrice de reflexion de surface sur mer agitee (glitter)
       ou autres BRDF / BPDF (modeles de Roujean, Rondeaux, Breon, Nadal) :
       c'est a dire les elements Pij de la matrice de reflexion 
       de surface
              P11(LUM_NBMU,LUM_NBMU) (reel),
              P12(LUM_NBMU,LUM_NBMU) (reel),
              P13(LUM_NBMU,LUM_NBMU) (reel),
              P21(LUM_NBMU,LUM_NBMU) (reel),
              P22(LUM_NBMU,LUM_NBMU) (reel),
              P23(LUM_NBMU,LUM_NBMU) (reel),
              P31(LUM_NBMU,LUM_NBMU) (reel),
              P32(LUM_NBMU,LUM_NBMU) (reel),
              P33(LUM_NBMU,LUM_NBMU) (reel)


5.Le fichier resultat des OS (decomposition en series de Fourier)
-----------------------------------------------------------------
       Fichier binaire non formatte, cree par SOS_OS
       Il contient les parametres de Stokes Q , U et I pour un ordre S
       du developpement en series de Fourier, en fonction de l'angle mu
       (valeurs en double precision).



6.Le fichier resultat des OS pour le champ montant (apres recombinaison des 
  series de Fourier)
---------------------------------------------------------------------------
       Fichier Ascii, cree par SOS_TRPHI
       format d'un enregistrement 4(E13.6,4X) ou 5(E13.6,4X)
       2 cas : ITRPHI = 1, 
               on obtient le plan de visees pour l'azimut PHIos et PHIos + 180 deg.
               Nombre d'enregistrements : 
                   un pour chaque valeur de -LUM_NBMU a LUM_NBMU
               Chaque enregisqtrement contient 4 valeurs
                Angle de visee(en degres) et les parametres de Stokes I,Q,U
	       Convention : L'angle de visee est positif pour le demi plan Phios,
	                    il est negatif pour le demi plan Phios + 180 deg. 	 

               ITRPHI = 2, 
               on obtient un diagramme polaire en fonction de l'angle 
               de visee (teta) et de l'angle azimutal (phi) 
               Nombre d'enregistrements :
                   Pour chaque valeur d'azimut (de 0 a 360 degres par pas PAS_PHI),
		   un enregistrement pour chaque angle de visee (indice de 1 a
		   LUM_NBMU)
               Chaque enregisqtrement contient 5 valeurs
                Coordonnees polaires Phi et Teta et les parametres de Stokes I,Q,U 



7.Le fichier resultat des OS pour le champ descendant
-----------------------------------------------------
      Fichier Ascii, cree par SOS_TRPHI
      format d'un enregistrement (F7.2,2X,3(F13.6,2X)) ou (2(F7.2,2X),3(F13.6,2X))
      Meme description que pour le fichier resultat pour le champ montant


8.Le fichier resultat des valeurs de transmissions
-----------------------------------------------------
      Fichier Ascii, cree par SOS
      Contenu : 
         Solar Zenithal Angle : Valeur (pas de format specifie)
         Direct transmission  TOA -> Surface : Valeur (pas de format specifie)
         Diffuse transmittance : TOA -> Surface
              Valeur : FORMAT(12h    thetas =,1x,f6.3,3x,12htd(thetas) =,1x,f7.4)  
         Diffuse transmittance : surface -> TOA
              1 ligne par angle de visee
              Valeur : FORMAT(12h    thetav =,1x,f6.3,3x,12htd(thetav) =,1x,f7.4)  

9.Les fichiers traces
---------------------
      Fichiers ASCII, crees par SOS_ANGLES, SOS_AEROSOLS, SOS_SURFACE, SOS_PROFIL et SOS
      Option au lancement des executables pour creer ou non un fichier trace
      Contient des resultats intermediaires permettant de valider les calculs
      Si un fichier de meme nom existe deja, le nouveau fichier trace l'ecrase
      Remarque : Le fichier trace est specifique a chaque calcul : 
                 un pour SOS_ANGLES, un pour SOS_AEROSOLS, un pour SOS_SURFACE,  
		 un pour SOS_PROFIL et un pour SOS.
		 Leur donner des noms differents.


10.Les fichiers temporaires
--------------------------
      L'executable SOS_SURFACE cree 3 fichiers temporaires RES_GSF, RES_FRESNEL 
      et RES_MAT_REFLEX dans le repertoire de lancement du programme.
      Ces fichiers sont detruits a la fin de l'execution du programme
      SOS_SURFACE sauf en cas d'erreur.
      
      L'executable SOS cree un fichier temporaire "FICOS_TRANSM_TMP" si l'utilisateur
      a sollicite un calcul de transmission. 
      Ce fichier est detruit a la fin de l'execution du programme 
      SOS sauf en cas d'erreur

